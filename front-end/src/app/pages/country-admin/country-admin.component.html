<div class="space-y-8 text-gray-100">

  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
    <div>
      <h2 class="text-3xl font-extrabold tracking-tight">
        Countries
      </h2>
      <p class="text-gray-400 text-sm mt-1">
        Manage all countries
      </p>
    </div>

    <button
      (click)="openAddModal()"
      class="bg-red-600 hover:bg-red-700 active:bg-red-800
             px-5 py-2.5 rounded-lg font-medium
             flex items-center gap-2
             shadow-lg shadow-red-600/30
             transition"
    >
      <i class="fa-solid fa-plus text-sm"></i>
      Add Country
    </button>
  </div>

  <!-- Table -->
  <div class="overflow-x-auto rounded-xl bg-zinc-900 shadow-lg shadow-black/40">
    <table class="min-w-full text-sm">
      <thead>
        <tr class="bg-zinc-800 text-gray-300 uppercase text-xs tracking-wider">
          <th class="py-4 px-6 text-left">ID</th>
          <th class="py-4 px-6 text-left">Country Name</th>
          <th class="py-4 px-6 text-right">Actions</th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let country of countries; let i = index"
          class="border-b border-zinc-800
                 hover:bg-zinc-800/70 transition"
        >
          <td class="py-4 px-6 font-medium text-gray-200">
            {{ country.id }}
          </td>

          <td class="py-4 px-6">
            {{ country.name }}
          </td>

          <td class="py-4 px-6 text-right">
            <div class="flex justify-end gap-2">
              <button
                (click)="edit(country)"
                class="bg-blue-600 hover:bg-blue-700
                       px-3 py-1.5 rounded-md text-xs font-medium
                       transition"
              >
                Edit
              </button>

              <button
                (click)="delete(country.id)"
                class="bg-red-600 hover:bg-red-700
                       px-3 py-1.5 rounded-md text-xs font-medium
                       transition"
              >
                Delete
              </button>
            </div>
          </td>
        </tr>

        <!-- Empty state -->
        <tr *ngIf="countries.length === 0">
          <td colspan="3" class="py-10 text-center text-gray-500">
            No countries found
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<app-pop-up></app-pop-up>
<!-- Modal Backdrop -->
<div
  *ngIf="isOpen"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm"
>
  <!-- Modal Box -->
  <div
    class="w-full max-w-md rounded-xl bg-zinc-900 shadow-xl shadow-black/50
           border border-zinc-800"
  >
    <!-- Header -->
    <div class="flex justify-between items-center px-6 py-4 border-b border-zinc-800">
      <h3 class="text-lg font-semibold">
        {{ editingCountry ? 'Edit Country' : 'Add Country' }}
      </h3>

      <button
        (click)="closeModal()"
        class="text-gray-400 hover:text-white transition"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <!-- Body -->
    <div class="px-6 py-5 space-y-4">
      <div>
        <label class="block text-sm text-gray-400 mb-1">
          Country Name
        </label>
        <input
          type="text"
          [(ngModel)]="countryName"
          placeholder="Enter country name"
          class="w-full rounded-lg bg-zinc-800 border border-zinc-700
                 px-4 py-2 text-sm
                 focus:outline-none focus:ring-2 focus:ring-red-600"
        />
      </div>
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-3 px-6 py-4 border-t border-zinc-800">
      <button
        (click)="closeModal()"
        class="px-4 py-2 rounded-md text-sm
               bg-zinc-700 hover:bg-zinc-600 transition"
      >
        Cancel
      </button>

      <button
        (click)="saveCountry()"
        class="px-4 py-2 rounded-md text-sm font-medium
               bg-red-600 hover:bg-red-700 transition"
      >
        {{ editingCountry ? 'Update' : 'Create' }}
      </button>
    </div>
  </div>
</div>
