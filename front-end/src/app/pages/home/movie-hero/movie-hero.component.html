<!-- LOADING STATE -->
<div
  *ngIf="!movies || movies.length === 0"
  class="h-[70vh] lg:h-[600px] flex items-center justify-center bg-black rounded-lg"
>
  <div
    class="animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-red-500"
  ></div>
</div>

<!-- HERO -->
<div
  *ngIf="movies && movies.length > 0"
  class="relative h-[70vh] lg:h-[600px] bg-cover bg-center text-white"
  [style.backgroundImage]="'url(' + movies[currentIndex].image_url + ')'"
>
  <!-- Overlay -->
  <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"></div>

  <!-- Content -->
  <div class="relative z-10 h-full flex flex-col justify-center px-6 lg:px-20 max-w-3xl">
    <h1 class="text-4xl lg:text-5xl font-bold mb-4">
      {{ movies[currentIndex].name }}
    </h1>

    <div class="flex items-center gap-3 mb-4">
      <button
        *ngFor="let genre of movies[currentIndex].genres"
        routerLink="/genres/{{ genre.name }}"
        class="bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full text-sm"
      >
        {{ genre.name }}
      </button>
      <span class="text-sm text-gray-300">3h 12m</span>
    </div>

    <p class="text-gray-300 line-clamp-3 mb-6">
      {{ movies[currentIndex].description }}
    </p>

    <div class="flex gap-4">
      <button
        routerLink="/movie/{{ movies[currentIndex].id }}"
        class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-md flex items-center gap-2 text-lg"
      >
        <i class="fa-solid fa-play"></i>
        Watch Now
      </button>

      <button
        class="border border-white/30 hover:bg-white/10 px-6 py-3 rounded-md flex items-center gap-2"
      >
        <i class="fa-solid fa-clock"></i>
        Watch Later
      </button>
    </div>
  </div>

  <!-- Dots -->
  <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-10">
    <div
      *ngFor="let slide of movies; index as i"
      (click)="setSlide(i)"
      class="w-3 h-3 rounded-full cursor-pointer transition"
      [ngClass]="{
        'bg-white scale-125': currentIndex === i,
        'bg-gray-400': currentIndex !== i
      }"
    ></div>
  </div>
</div>
